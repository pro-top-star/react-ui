# Contributing to Fiori4React

## Create New Components

You can create new components with our cli:Â ðŸŽ‰<br>
Using npm:
```bash
npm run create-component YOUR_COMPONENT_NAME
```
Using yarn:
```bash
yarn create-component YOUR_COMPONENT_NAME
```
These commands will create a new folder in the src folder, containing the index, the stylesheets as well as the demo.

#### TypeScript

Please use TypeScript to write your components. A good introduction to TypeScript in React can be found [here](https://levelup.gitconnected.com/ultimate-react-component-patterns-with-typescript-2-8-82990c516935).

#### Styling your components

Please make sure to use [react-jss](https://github.com/cssinjs/jss/tree/master/packages/react-jss) to style your components. The project
might still contain components styled with css modules. ItÂ´s planned to migrate those to react-jss. All new components
have to use the new styling guidelines. Please see the template, generated by the create-component cli as reference on
how to use react-jss.

Global Styles compliant to the Fiori 2.0 Design Guidelines are located in [fiori-for-react/styles](https://github.com/SAP/fiori-for-react/tree/master/packages/styles).

### Test your components

Please also write tests for your components.
We use Jest as testing framework and enzyme as test utility.

File Name Convention: `[ComponentName].test.js`

Docs:
- [Jest](https://facebook.github.io/jest/)
- [Enzyme](http://airbnb.io/enzyme/#basic-usage)

## Naming Convention for Props
- All Event handlers **must** start with `on`.<br />
   e.g. `onClick`, `onSelect`, `onSelectionChange`, .etc<br />
   All Events must pass a instance of the `Event`-Class as single parameter.
- When passing additional elements into a component, a render function should be used. This prop must start with `render`<br />
   e.g. `renderExtension`, `renderHeaderContent`, .etc
- If you have a stateful component and use `getDerivedStateFromProps`, please store the previous props in a `prevProps` object in the state.<br />
   e.g. `state = { selectedKey: 1, prevProps: { selectedKey: 2 } }`

### Speed up your local build
Creating the documentation (PropTables and Styling Infos) in the Storybook is very expensive. 
Thus, the initial compile time as well as the hot module replacement takes a long time.<br />
You can speed up this process by adding a local `.env` file in the root directory with the following content:
```env
SKIP_DOC_GENERATION=true
```

### Helper Scripts
Remove all local branches which have been merged:
```bash
git fetch -p && for branch in `git branch -vv | grep ': gone]' | awk '{print $1}'`; do git branch -D $branch; done
```
Add your commit template for conventional commits:
```bash
git config commit.cleanup strip
git config commit.template "$(pwd)/config/.gitmessage"
```
If you use Sourcetree, please also enable in the Repository Settings the Custom Commit Template.

 
