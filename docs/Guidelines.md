# Development Conventions and Guidelines

## Requirements

- [Yarn](https://yarnpkg.com/en/)
- [Node.js](https://nodejs.org/) (**version 12 or higher** ⚠️)

## TypeScript

Please use TypeScript to write your components. A good introduction to TypeScript in React can be found [here](https://levelup.gitconnected.com/ultimate-react-component-patterns-with-typescript-2-8-82990c516935).

## Styling your components

Please make sure to use [react-jss](https://github.com/cssinjs/jss/tree/master/packages/react-jss) to style your components. The project
might still contain components styled with css modules. It´s planned to migrate those to react-jss. All new components
have to use the new styling guidelines. Please see the template, generated by the create-component cli as reference on
how to use react-jss.

Global Styles compliant to the Fiori 2.0 Design Guidelines are located in [ui5-webcomponents-react/styles](https://github.com/SAP/ui5-webcomponents-react/tree/master/packages/styles).

## Naming Convention for Props
- All Event handlers **must** start with `on`.<br />
   e.g. `onClick`, `onSelect`, `onSelectionChange`, .etc<br />
   All Events must pass a instance of the `Event`-Class as single parameter.
- When passing additional elements into a component, a render function should be used. This prop must start with `render`<br />
   e.g. `renderExtension`, `renderHeaderContent`, .etc
- If you have a stateful component and use `getDerivedStateFromProps`, please store the previous props in a `prevProps` object in the state.<br />
   e.g. `state = { selectedKey: 1, prevProps: { selectedKey: 2 } }`

## Speed up your local build
Creating the documentation (PropTables and Styling Infos) in the Storybook is very expensive. 
Thus, the initial compile time as well as the hot module replacement takes a long time.<br />
Due to this fact, we disabled the generation of the Prop-Tables by default. 
In case you need these Prop-Tables, you can easily activate them by adding a local `.env` file in the root directory with the following content:
```env
UI5_WEBCOMPONENTS_FOR_REACT_RELEASE_BUILD=true
```

You must follow the coding style as best you can when submitting code. Take note of naming conventions, separation of concerns, and formatting rules. You can use the code formatter [Prettier](https://prettier.io/) to handle some of this for you automatically.

## Unit testing

All components should have associated unit tests created with a code coverage score of at least 85%. Be an overachiever and shoot for 100% :)

## Git Guidelines

We adhere to the [Conventional Commits](https://conventionalcommits.org) specification.

### Commit Message Style
The commit message consists of three parts:
- header
- body (optional)
- footer (optional)

#### Commit Header
The commit header is the first line of the commit message. It consists of three parts: type, scope and description.

##### Commit Type
- It must be one of the following:
    + `fix` - a bug fix (note: this will indicate a release)
    + `feat` - a new feature (note: this will indicate a release)
    + `docs` - documentation only changes
    + `style` - changes that do not affect the meaning of the code
    + `refactor` - a code change that neither fixes a bug nor adds a feature
    + `perf` - a code change that improves performance
    + `test` - adding missing tests
    + `chore` - changes to the build process or auxiliary tools and libraries such as documentation generation
    + `revert` - revert to a commit
    + `WIP` - work in progress

##### Commit Scope (optional)
- It points to a specific component which is affected by the change. For example, ui5-button, ui5-card and ui5-table.

##### Commit Description
- Use the **imperative present tense**. Instead of "I added feature xy" or "Adding tests for" use "Add feature xy" or "Add tests for".
- It should be no more than **100 characters** long.


#### Commit Body (optional)
After the commit header, there should be an empty line followed by the optional commit body.
- Describe the intention and reasoning of the change.

#### Commit Footer (optional)
After the optional commit body, there should be an empty line followed by the optional footer.
- If the change introduces a breaking change, it should start with **BREAKING CHANGE:** followed by a description of the change.
    + `BREAKING CHANGE: remove press event`
- If the change fixes an issue reported on GitHub, add the following line to the commit message:
    + `Fixes #<issueNumber>` (e.g. `Fixes #42`)

#### Example
```
fix(text): correct focus with 'tab' key

The text should receive a correct focus outline
when the 'tab' key is pressed.

Fixes #42
```
